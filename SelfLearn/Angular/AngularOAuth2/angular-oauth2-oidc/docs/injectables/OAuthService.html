<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>angular-oauth2-oidc</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">angular-oauth2-oidc</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>
            <nav>

    <ul class="list">

        <li class="title">
            <a href="index.html" data-type="index-link">angular-oauth2-oidc</a>
        </li>

        <li class="divider"></li>


        <li class="chapter">
            <a data-type="chapter-link" href="index.html"><span class="fa fa-home"></span>Getting started</a>
            <ul class="links">
                    <li class="link">
                        <a 
                            
                             href="overview.html" 
                             href="overview.html" 
                            data-type="chapter-link">
                            <span class="fa fa-fw fa-th"></span>Overview
                        </a>
                    </li>
                    <li class="link">
                      <a href="index.html" data-type="chapter-link"><span class="fa fa-file-text-o"></span>README</a>
                    </li>
                    <li class="link">
                            <a href="changelog.html"
                        data-type="chapter-link">
                            <span class="fa fa-fw fa-file-text-o"></span>CHANGELOG
                        </a>
                    </li>
                    <li class="link">
                        <a href="dependencies.html"
                            data-type="chapter-link">
                            <span class="fa fa-fw fa-list"></span>Dependencies
                        </a>
                    </li>
            </ul>
        </li>

        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#xs-additional-pages"
                >
                <span class="fa fa-fw fa-book"></span>
                <span>Additional documentation</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="xs-additional-pages"
                >
                    <li class="link ">
                        <a href="additional-documentation/getting-started.html" data-type="entity-link" data-context-id="additional">Getting Started</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/preserving-state-(like-the-requested-url).html" data-type="entity-link" data-context-id="additional">Preserving State (like the Requested URL)</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/refreshing-a-token-(silent-refresh).html" data-type="entity-link" data-context-id="additional">Refreshing a Token (Silent Refresh)</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/working-with-httpinterceptors.html" data-type="entity-link" data-context-id="additional">Working with HttpInterceptors</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/callback-after-login.html" data-type="entity-link" data-context-id="additional">Callback after login</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/custom-query-parameters.html" data-type="entity-link" data-context-id="additional">Custom Query Parameters</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/events.html" data-type="entity-link" data-context-id="additional">Events</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/routing-with-the-hashstrategy.html" data-type="entity-link" data-context-id="additional">Routing with the HashStrategy</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/adapt-id_token-validation.html" data-type="entity-link" data-context-id="additional">Adapt id_token Validation</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/session-checks.html" data-type="entity-link" data-context-id="additional">Session Checks</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/server-side-rendering.html" data-type="entity-link" data-context-id="additional">Server Side Rendering</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/configure-library-for-implicit-flow-without-discovery-document.html" data-type="entity-link" data-context-id="additional">Configure Library for Implicit Flow without discovery document</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/using-systemjs.html" data-type="entity-link" data-context-id="additional">Using SystemJS</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/original-config-api.html" data-type="entity-link" data-context-id="additional">Original Config API</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/using-password-flow.html" data-type="entity-link" data-context-id="additional">Using Password Flow</a>
                    </li>
            </ul>
        </li>

        <li class="chapter modules">
            <a data-type="chapter-link" href="modules.html">
                <div class="menu-toggler linked" data-toggle="collapse"
                        data-target="#xs-modules-links"
                >
                    <span class="fa fa-fw fa-archive"></span>
                    <span class="link-name">Modules</span>
                    <span class="fa fa-angle-down"></span>
                </div>
            </a>
            <ul class="links collapse"
                    id="xs-modules-links"
                >
                    <li class="link">
                        <a href="modules/OAuthModule.html" data-type="entity-link">OAuthModule</a>
                    </li>
            </ul>
        </li>



        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#xs-classes-links"
                >
                <span class="fa fa-fw fa-file-code-o"></span>
                <span>Classes</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="xs-classes-links"
                >
                    <li class="link">
                        <a href="classes/AbstractValidationHandler.html" data-type="entity-link">AbstractValidationHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/AuthConfig.html" data-type="entity-link">AuthConfig</a>
                    </li>
                    <li class="link">
                        <a href="classes/JwksValidationHandler.html" data-type="entity-link">JwksValidationHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/LoginOptions.html" data-type="entity-link">LoginOptions</a>
                    </li>
                    <li class="link">
                        <a href="classes/NullValidationHandler.html" data-type="entity-link">NullValidationHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthErrorEvent.html" data-type="entity-link">OAuthErrorEvent</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthEvent.html" data-type="entity-link">OAuthEvent</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthInfoEvent.html" data-type="entity-link">OAuthInfoEvent</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthModuleConfig.html" data-type="entity-link">OAuthModuleConfig</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthNoopResourceServerErrorHandler.html" data-type="entity-link">OAuthNoopResourceServerErrorHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthResourceServerConfig.html" data-type="entity-link">OAuthResourceServerConfig</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthResourceServerErrorHandler.html" data-type="entity-link">OAuthResourceServerErrorHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthStorage.html" data-type="entity-link">OAuthStorage</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthSuccessEvent.html" data-type="entity-link">OAuthSuccessEvent</a>
                    </li>
                    <li class="link">
                        <a href="classes/ReceivedTokens.html" data-type="entity-link">ReceivedTokens</a>
                    </li>
                    <li class="link">
                        <a href="classes/ValidationHandler.html" data-type="entity-link">ValidationHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/WebHttpUrlEncodingCodec.html" data-type="entity-link">WebHttpUrlEncodingCodec</a>
                    </li>
            </ul>
        </li>

                <li class="chapter">
                    <div class="simple menu-toggler" data-toggle="collapse"
                            data-target="#xs-injectables-links"
                        >
                        <span class="fa fa-fw fa-long-arrow-down"></span>
                        <span>Injectables</span>
                        <span class="fa fa-angle-down"></span>
                    </div>
                    <ul class="links collapse"
                            id="xs-injectables-links"
                        >
                            <li class="link">
                                <a href="injectables/OAuthService.html" data-type="entity-link">OAuthService</a>
                            </li>
                            <li class="link">
                                <a href="injectables/UrlHelperService.html" data-type="entity-link">UrlHelperService</a>
                            </li>
                    </ul>
                </li>

        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#xs-interceptors-links"
                >
                <span class="fa fa-fw fa-exchange"></span>
                <span>Interceptors</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="xs-interceptors-links"
                >
                    <li class="link">
                        <a href="interceptors/DefaultOAuthInterceptor.html" data-type="entity-link">DefaultOAuthInterceptor</a>
                    </li>
            </ul>
        </li>

        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#xs-interfaces-links"
                >
                <span class="fa fa-fw fa-info"></span>
                <span>Interfaces</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="xs-interfaces-links"
                >
                    <li class="link">
                        <a href="interfaces/OidcDiscoveryDoc.html" data-type="entity-link">OidcDiscoveryDoc</a>
                    </li>
                    <li class="link">
                        <a href="interfaces/ParsedIdToken.html" data-type="entity-link">ParsedIdToken</a>
                    </li>
                    <li class="link">
                        <a href="interfaces/TokenResponse.html" data-type="entity-link">TokenResponse</a>
                    </li>
                    <li class="link">
                        <a href="interfaces/UserInfo.html" data-type="entity-link">UserInfo</a>
                    </li>
                    <li class="link">
                        <a href="interfaces/ValidationParams.html" data-type="entity-link">ValidationParams</a>
                    </li>
            </ul>
        </li>


        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#xs-miscellaneous-links"
                >
                <span class="fa fa-fw fa-cubes"></span>
                <span>Miscellaneous</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="xs-miscellaneous-links"
                >
                    <li class="link">
                      <a href="miscellaneous/functions.html" data-type="entity-link">Functions</a>
                    </li>
                    <li class="link">
                      <a href="miscellaneous/typealiases.html" data-type="entity-link">Type aliases</a>
                    </li>
                    <li class="link">
                      <a href="miscellaneous/variables.html" data-type="entity-link">Variables</a>
                    </li>
            </ul>
        </li>




    </ul>

</nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>

    <ul class="list">

        <li class="title">
            <a href="index.html" data-type="index-link">angular-oauth2-oidc</a>
        </li>

        <li class="divider"></li>

            <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>

        <li class="chapter">
            <a data-type="chapter-link" href="index.html"><span class="fa fa-home"></span>Getting started</a>
            <ul class="links">
                    <li class="link">
                        <a 
                            
                             href="overview.html" 
                             href="overview.html" 
                            data-type="chapter-link">
                            <span class="fa fa-fw fa-th"></span>Overview
                        </a>
                    </li>
                    <li class="link">
                      <a href="index.html" data-type="chapter-link"><span class="fa fa-file-text-o"></span>README</a>
                    </li>
                    <li class="link">
                            <a href="changelog.html"
                        data-type="chapter-link">
                            <span class="fa fa-fw fa-file-text-o"></span>CHANGELOG
                        </a>
                    </li>
                    <li class="link">
                        <a href="dependencies.html"
                            data-type="chapter-link">
                            <span class="fa fa-fw fa-list"></span>Dependencies
                        </a>
                    </li>
            </ul>
        </li>

        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#additional-pages"
>
                <span class="fa fa-fw fa-book"></span>
                <span>Additional documentation</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="additional-pages"
>
                    <li class="link ">
                        <a href="additional-documentation/getting-started.html" data-type="entity-link" data-context-id="additional">Getting Started</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/preserving-state-(like-the-requested-url).html" data-type="entity-link" data-context-id="additional">Preserving State (like the Requested URL)</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/refreshing-a-token-(silent-refresh).html" data-type="entity-link" data-context-id="additional">Refreshing a Token (Silent Refresh)</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/working-with-httpinterceptors.html" data-type="entity-link" data-context-id="additional">Working with HttpInterceptors</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/callback-after-login.html" data-type="entity-link" data-context-id="additional">Callback after login</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/custom-query-parameters.html" data-type="entity-link" data-context-id="additional">Custom Query Parameters</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/events.html" data-type="entity-link" data-context-id="additional">Events</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/routing-with-the-hashstrategy.html" data-type="entity-link" data-context-id="additional">Routing with the HashStrategy</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/adapt-id_token-validation.html" data-type="entity-link" data-context-id="additional">Adapt id_token Validation</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/session-checks.html" data-type="entity-link" data-context-id="additional">Session Checks</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/server-side-rendering.html" data-type="entity-link" data-context-id="additional">Server Side Rendering</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/configure-library-for-implicit-flow-without-discovery-document.html" data-type="entity-link" data-context-id="additional">Configure Library for Implicit Flow without discovery document</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/using-systemjs.html" data-type="entity-link" data-context-id="additional">Using SystemJS</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/original-config-api.html" data-type="entity-link" data-context-id="additional">Original Config API</a>
                    </li>
                    <li class="link ">
                        <a href="additional-documentation/using-password-flow.html" data-type="entity-link" data-context-id="additional">Using Password Flow</a>
                    </li>
            </ul>
        </li>

        <li class="chapter modules">
            <a data-type="chapter-link" href="modules.html">
                <div class="menu-toggler linked" data-toggle="collapse"
                        data-target="#modules-links"
                >
                    <span class="fa fa-fw fa-archive"></span>
                    <span class="link-name">Modules</span>
                    <span class="fa fa-angle-down"></span>
                </div>
            </a>
            <ul class="links collapse"
                    id="modules-links"
>
                    <li class="link">
                        <a href="modules/OAuthModule.html" data-type="entity-link">OAuthModule</a>
                    </li>
            </ul>
        </li>



        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#classes-links"
>
                <span class="fa fa-fw fa-file-code-o"></span>
                <span>Classes</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="classes-links"
>
                    <li class="link">
                        <a href="classes/AbstractValidationHandler.html" data-type="entity-link">AbstractValidationHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/AuthConfig.html" data-type="entity-link">AuthConfig</a>
                    </li>
                    <li class="link">
                        <a href="classes/JwksValidationHandler.html" data-type="entity-link">JwksValidationHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/LoginOptions.html" data-type="entity-link">LoginOptions</a>
                    </li>
                    <li class="link">
                        <a href="classes/NullValidationHandler.html" data-type="entity-link">NullValidationHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthErrorEvent.html" data-type="entity-link">OAuthErrorEvent</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthEvent.html" data-type="entity-link">OAuthEvent</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthInfoEvent.html" data-type="entity-link">OAuthInfoEvent</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthModuleConfig.html" data-type="entity-link">OAuthModuleConfig</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthNoopResourceServerErrorHandler.html" data-type="entity-link">OAuthNoopResourceServerErrorHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthResourceServerConfig.html" data-type="entity-link">OAuthResourceServerConfig</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthResourceServerErrorHandler.html" data-type="entity-link">OAuthResourceServerErrorHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthStorage.html" data-type="entity-link">OAuthStorage</a>
                    </li>
                    <li class="link">
                        <a href="classes/OAuthSuccessEvent.html" data-type="entity-link">OAuthSuccessEvent</a>
                    </li>
                    <li class="link">
                        <a href="classes/ReceivedTokens.html" data-type="entity-link">ReceivedTokens</a>
                    </li>
                    <li class="link">
                        <a href="classes/ValidationHandler.html" data-type="entity-link">ValidationHandler</a>
                    </li>
                    <li class="link">
                        <a href="classes/WebHttpUrlEncodingCodec.html" data-type="entity-link">WebHttpUrlEncodingCodec</a>
                    </li>
            </ul>
        </li>

                <li class="chapter">
                    <div class="simple menu-toggler" data-toggle="collapse"
                            data-target="#injectables-links"
>
                        <span class="fa fa-fw fa-long-arrow-down"></span>
                        <span>Injectables</span>
                        <span class="fa fa-angle-down"></span>
                    </div>
                    <ul class="links collapse"
                            id="injectables-links"
>
                            <li class="link">
                                <a href="injectables/OAuthService.html" data-type="entity-link">OAuthService</a>
                            </li>
                            <li class="link">
                                <a href="injectables/UrlHelperService.html" data-type="entity-link">UrlHelperService</a>
                            </li>
                    </ul>
                </li>

        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#interceptors-links"
>
                <span class="fa fa-fw fa-exchange"></span>
                <span>Interceptors</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="interceptors-links"
>
                    <li class="link">
                        <a href="interceptors/DefaultOAuthInterceptor.html" data-type="entity-link">DefaultOAuthInterceptor</a>
                    </li>
            </ul>
        </li>

        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#interfaces-links"
>
                <span class="fa fa-fw fa-info"></span>
                <span>Interfaces</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="interfaces-links"
>
                    <li class="link">
                        <a href="interfaces/OidcDiscoveryDoc.html" data-type="entity-link">OidcDiscoveryDoc</a>
                    </li>
                    <li class="link">
                        <a href="interfaces/ParsedIdToken.html" data-type="entity-link">ParsedIdToken</a>
                    </li>
                    <li class="link">
                        <a href="interfaces/TokenResponse.html" data-type="entity-link">TokenResponse</a>
                    </li>
                    <li class="link">
                        <a href="interfaces/UserInfo.html" data-type="entity-link">UserInfo</a>
                    </li>
                    <li class="link">
                        <a href="interfaces/ValidationParams.html" data-type="entity-link">ValidationParams</a>
                    </li>
            </ul>
        </li>


        <li class="chapter">
            <div class="simple menu-toggler" data-toggle="collapse"
                    data-target="#miscellaneous-links"
>
                <span class="fa fa-fw fa-cubes"></span>
                <span>Miscellaneous</span>
                <span class="fa fa-angle-down"></span>
            </div>
            <ul class="links collapse"
                    id="miscellaneous-links"
>
                    <li class="link">
                      <a href="miscellaneous/functions.html" data-type="entity-link">Functions</a>
                    </li>
                    <li class="link">
                      <a href="miscellaneous/typealiases.html" data-type="entity-link">Type aliases</a>
                    </li>
                    <li class="link">
                      <a href="miscellaneous/variables.html" data-type="entity-link">Variables</a>
                    </li>
            </ul>
        </li>




    </ul>

</nav>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">






<ol class="breadcrumb">
  <li>Injectables</li>
  <li>OAuthService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
    <li class="active">
        <a href="#info" id="info-tab" role="tab" data-toggle="tab" data-link="info">Info</a>
    </li>


    <li>
        <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>projects/lib/src/oauth-service.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Service for logging in and logging out with
OIDC and OAuth2. Supports implicit flow and
password flow.</p>

            </p>


            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#events">events</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Optional</span>
                                <a href="#state">state</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#tokenValidationHandler">tokenValidationHandler</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#authorizationHeader">authorizationHeader</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#configure">configure</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#createNonce">createNonce</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#fetchTokenUsingPasswordFlow">fetchTokenUsingPasswordFlow</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#fetchTokenUsingPasswordFlowAndLoadUserProfile">fetchTokenUsingPasswordFlowAndLoadUserProfile</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getAccessToken">getAccessToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getAccessTokenExpiration">getAccessTokenExpiration</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getGrantedScopes">getGrantedScopes</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getIdentityClaims">getIdentityClaims</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getIdToken">getIdToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getIdTokenExpiration">getIdTokenExpiration</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getRefreshToken">getRefreshToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#getSessionState">getSessionState</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#hasValidAccessToken">hasValidAccessToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#hasValidIdToken">hasValidIdToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#initImplicitFlow">initImplicitFlow</a>
                            </li>
                            <li>
                                <a href="#initImplicitFlowInternal">initImplicitFlowInternal</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadDiscoveryDocument">loadDiscoveryDocument</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadDiscoveryDocumentAndLogin">loadDiscoveryDocumentAndLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadDiscoveryDocumentAndTryLogin">loadDiscoveryDocumentAndTryLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadUserProfile">loadUserProfile</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#logOut">logOut</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#refreshToken">refreshToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#restartSessionChecksIfStillLoggedIn">restartSessionChecksIfStillLoggedIn</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#setStorage">setStorage</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#setupAutomaticSilentRefresh">setupAutomaticSilentRefresh</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#silentRefresh">silentRefresh</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#storeIdToken">storeIdToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#storeSessionState">storeSessionState</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#tryLogin">tryLogin</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(ngZone: <a href="https://angular.io/api/core/NgZone" target="_blank">NgZone</a>, http: <a href="https://angular.io/api/common/http/HttpClient" target="_blank">HttpClient</a>, storage: <a href="../classes/OAuthStorage.html">OAuthStorage</a>, tokenValidationHandler: <a href="../classes/ValidationHandler.html">ValidationHandler</a>, config: <a href="../classes/AuthConfig.html">AuthConfig</a>, urlHelper: <a href="../injectables/UrlHelperService.html">UrlHelperService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="82" class="link-to-prism">projects/lib/src/oauth-service.ts:82</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                    <td>ngZone</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/core/NgZone" target="_blank" >NgZone</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                    <td>http</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/common/http/HttpClient" target="_blank" >HttpClient</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                    <td>storage</td>
                                                  
                                                        <td>
                                                                    <code><a href="../classes/OAuthStorage.html" target="_self" >OAuthStorage</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                    <td>tokenValidationHandler</td>
                                                  
                                                        <td>
                                                                    <code><a href="../classes/ValidationHandler.html" target="_self" >ValidationHandler</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                    <td>config</td>
                                                  
                                                        <td>
                                                                    <code><a href="../classes/AuthConfig.html" target="_self" >AuthConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                    <td>urlHelper</td>
                                                  
                                                        <td>
                                                                    <code><a href="../injectables/UrlHelperService.html" target="_self" >UrlHelperService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="authorizationHeader"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            authorizationHeader
                            </b>
                            <a href="#authorizationHeader"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>authorizationHeader()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1652" class="link-to-prism">projects/lib/src/oauth-service.ts:1652</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Returns the auth-header that can be used
to transmit the access_token to a service</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="configure"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            configure
                            </b>
                            <a href="#configure"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>configure(config: <a href="../classes/AuthConfig.html">AuthConfig</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="124" class="link-to-prism">projects/lib/src/oauth-service.ts:124</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Use this method to configure the service</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>config</td>
                                                        <td>
                                                                    <code><a href="../classes/AuthConfig.html" target="_self" >AuthConfig</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>the configuration</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="createNonce"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Protected</span>
                            createNonce
                            </b>
                            <a href="#createNonce"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>createNonce()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1724" class="link-to-prism">projects/lib/src/oauth-service.ts:1724</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code>Promise&lt;string&gt;</code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="fetchTokenUsingPasswordFlow"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            fetchTokenUsingPasswordFlow
                            </b>
                            <a href="#fetchTokenUsingPasswordFlow"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>fetchTokenUsingPasswordFlow(userName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, password: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../s/rs.html">HttpHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="609" class="link-to-prism">projects/lib/src/oauth-service.ts:609</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Uses password flow to exchange userName and password for an access_token.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>userName</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                        <td>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>password</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                        <td>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../miscellaneous/variables.html#rs" target="_self" >HttpHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>new HttpHeaders()</code>
                                                        </td>

                                                        <td>
                                                                <code><p>Optional additional http-headers.</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>Promise&lt;object&gt;</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="fetchTokenUsingPasswordFlowAndLoadUserProfile"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            fetchTokenUsingPasswordFlowAndLoadUserProfile
                            </b>
                            <a href="#fetchTokenUsingPasswordFlowAndLoadUserProfile"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>fetchTokenUsingPasswordFlowAndLoadUserProfile(userName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, password: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, headers: <a href="../s/rs.html">HttpHeaders</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="532" class="link-to-prism">projects/lib/src/oauth-service.ts:532</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Uses password flow to exchange userName and password for an
access_token. After receiving the access_token, this method
uses it to query the userinfo endpoint in order to get information
about the user in question.</p>
<p>When using this, make sure that the property oidc is set to false.
Otherwise stricter validations take happen that makes this operation
fail.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>userName</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                        <td>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>password</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                        </td>

                                                        <td>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>headers</td>
                                                        <td>
                                                                    <code><a href="../miscellaneous/variables.html#rs" target="_self" >HttpHeaders</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>new HttpHeaders()</code>
                                                        </td>

                                                        <td>
                                                                <code><p>Optional additional http-headers.</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>Promise&lt;object&gt;</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getAccessToken"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            getAccessToken
                            </b>
                            <a href="#getAccessToken"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>getAccessToken()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1575" class="link-to-prism">projects/lib/src/oauth-service.ts:1575</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Returns the current access_token.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getAccessTokenExpiration"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            getAccessTokenExpiration
                            </b>
                            <a href="#getAccessTokenExpiration"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>getAccessTokenExpiration()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1587" class="link-to-prism">projects/lib/src/oauth-service.ts:1587</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Returns the expiration date of the access_token
as milliseconds since 1970.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getGrantedScopes"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            getGrantedScopes
                            </b>
                            <a href="#getGrantedScopes"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>getGrantedScopes()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1550" class="link-to-prism">projects/lib/src/oauth-service.ts:1550</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Returns the granted scopes from the server.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getIdentityClaims"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            getIdentityClaims
                            </b>
                            <a href="#getIdentityClaims"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>getIdentityClaims()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1539" class="link-to-prism">projects/lib/src/oauth-service.ts:1539</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Returns the received claims about the user.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getIdToken"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            getIdToken
                            </b>
                            <a href="#getIdToken"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>getIdToken()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1561" class="link-to-prism">projects/lib/src/oauth-service.ts:1561</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Returns the current id_token.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getIdTokenExpiration"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            getIdTokenExpiration
                            </b>
                            <a href="#getIdTokenExpiration"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>getIdTokenExpiration()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1606" class="link-to-prism">projects/lib/src/oauth-service.ts:1606</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Returns the expiration date of the id_token
as milliseconds since 1970.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getRefreshToken"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            getRefreshToken
                            </b>
                            <a href="#getRefreshToken"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>getRefreshToken()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1579" class="link-to-prism">projects/lib/src/oauth-service.ts:1579</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getSessionState"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Protected</span>
                            getSessionState
                            </b>
                            <a href="#getSessionState"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>getSessionState()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1380" class="link-to-prism">projects/lib/src/oauth-service.ts:1380</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hasValidAccessToken"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            hasValidAccessToken
                            </b>
                            <a href="#hasValidAccessToken"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>hasValidAccessToken()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1617" class="link-to-prism">projects/lib/src/oauth-service.ts:1617</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Checkes, whether there is a valid access_token.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="hasValidIdToken"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            hasValidIdToken
                            </b>
                            <a href="#hasValidIdToken"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>hasValidIdToken()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1634" class="link-to-prism">projects/lib/src/oauth-service.ts:1634</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Checkes, whether there is a valid id_token.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="initImplicitFlow"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            initImplicitFlow
                            </b>
                            <a href="#initImplicitFlow"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>initImplicitFlow(additionalState: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, params: string | object)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1176" class="link-to-prism">projects/lib/src/oauth-service.ts:1176</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Starts the implicit flow and redirects to user to
the auth servers login url.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>additionalState</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>&#x27;&#x27;</code>
                                                        </td>

                                                        <td>
                                                                <code><p>Optinal state that is passes around.
You find this state in the property <code>state</code> after <code>tryLogin</code> logged in the user.</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>params</td>
                                                        <td>
                                                                    <code>string | object</code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>&#x27;&#x27;</code>
                                                        </td>

                                                        <td>
                                                                <code><p>Hash with additional parameter. If it is a string, it is used for the
parameter loginHint (for the sake of compatibility with former versions)</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="initImplicitFlowInternal"></a>
                        <span class="name">
                            <b>
                            initImplicitFlowInternal
                            </b>
                            <a href="#initImplicitFlowInternal"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>initImplicitFlowInternal(additionalState: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, params: string | object)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1131" class="link-to-prism">projects/lib/src/oauth-service.ts:1131</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>additionalState</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>&#x27;&#x27;</code>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>params</td>
                                                        <td>
                                                                    <code>string | object</code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>&#x27;&#x27;</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loadDiscoveryDocument"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            loadDiscoveryDocument
                            </b>
                            <a href="#loadDiscoveryDocument"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>loadDiscoveryDocument(fullUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="353" class="link-to-prism">projects/lib/src/oauth-service.ts:353</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Loads the discovery document to configure most
properties of this service. The url of the discovery
document is infered from the issuer&#39;s url according
to the OpenId Connect spec. To use another url you
can pass it to to optional parameter fullUrl.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>fullUrl</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>null</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>Promise&lt;object&gt;</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loadDiscoveryDocumentAndLogin"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            loadDiscoveryDocumentAndLogin
                            </b>
                            <a href="#loadDiscoveryDocumentAndLogin"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>loadDiscoveryDocumentAndLogin(options: <a href="../classes/LoginOptions.html">LoginOptions</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="176" class="link-to-prism">projects/lib/src/oauth-service.ts:176</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code><a href="../classes/LoginOptions.html" target="_self" >LoginOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>null</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loadDiscoveryDocumentAndTryLogin"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            loadDiscoveryDocumentAndTryLogin
                            </b>
                            <a href="#loadDiscoveryDocumentAndTryLogin"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>loadDiscoveryDocumentAndTryLogin(options: <a href="../classes/LoginOptions.html">LoginOptions</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="170" class="link-to-prism">projects/lib/src/oauth-service.ts:170</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code><a href="../classes/LoginOptions.html" target="_self" >LoginOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>null</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loadUserProfile"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            loadUserProfile
                            </b>
                            <a href="#loadUserProfile"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>loadUserProfile()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="549" class="link-to-prism">projects/lib/src/oauth-service.ts:549</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Loads the user profile by accessing the user info endpoint defined by OpenId Connect.</p>
<p>When using this with OAuth2 password flow, make sure that the property oidc is set to false.
Otherwise stricter validations take happen that makes this operation
fail.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code>Promise&lt;object&gt;</code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="logOut"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            logOut
                            </b>
                            <a href="#logOut"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>logOut(noRedirectToLogoutUrl: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1662" class="link-to-prism">projects/lib/src/oauth-service.ts:1662</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Removes all tokens and logs the user out.
If a logout url is configured, the user is
redirected to it.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>noRedirectToLogoutUrl</td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>false</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="refreshToken"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            refreshToken
                            </b>
                            <a href="#refreshToken"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>refreshToken()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="680" class="link-to-prism">projects/lib/src/oauth-service.ts:680</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Refreshes the token using a refresh_token.
This does not work for implicit flow, b/c
there is no refresh_token in this flow.
A solution for this is provided by the
method silentRefresh.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code>Promise&lt;object&gt;</code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="restartSessionChecksIfStillLoggedIn"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            restartSessionChecksIfStillLoggedIn
                            </b>
                            <a href="#restartSessionChecksIfStillLoggedIn"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>restartSessionChecksIfStillLoggedIn()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="140" class="link-to-prism">projects/lib/src/oauth-service.ts:140</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="setStorage"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            setStorage
                            </b>
                            <a href="#setStorage"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>setStorage(storage: <a href="../classes/OAuthStorage.html">OAuthStorage</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="339" class="link-to-prism">projects/lib/src/oauth-service.ts:339</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Sets a custom storage used to store the received
tokens on client side. By default, the browser&#39;s
sessionStorage is used.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>storage</td>
                                                        <td>
                                                                    <code><a href="../classes/OAuthStorage.html" target="_self" >OAuthStorage</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="setupAutomaticSilentRefresh"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            setupAutomaticSilentRefresh
                            </b>
                            <a href="#setupAutomaticSilentRefresh"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>setupAutomaticSilentRefresh(params: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="160" class="link-to-prism">projects/lib/src/oauth-service.ts:160</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>params</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                        <td>
                                                                <code><p>Additional parameter to pass</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="silentRefresh"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            silentRefresh
                            </b>
                            <a href="#silentRefresh"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>silentRefresh(params: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank">object</a>, noPrompt: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="792" class="link-to-prism">projects/lib/src/oauth-service.ts:792</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Performs a silent refresh for implicit flow.
Use this method to get a new tokens when/ before
the existing tokens expires.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>params</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>{}</code>
                                                        </td>

                                                </tr>
                                                <tr>
                                                        <td>noPrompt</td>
                                                        <td>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>true</code>
                                                        </td>

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="../classes/OAuthEvent.html" target="_self" >Promise&lt;OAuthEvent&gt;</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="storeIdToken"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Protected</span>
                            storeIdToken
                            </b>
                            <a href="#storeIdToken"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>storeIdToken(idToken: <a href="../interfaces/ParsedIdToken.html">ParsedIdToken</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1369" class="link-to-prism">projects/lib/src/oauth-service.ts:1369</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>idToken</td>
                                                        <td>
                                                                    <code><a href="../interfaces/ParsedIdToken.html" target="_self" >ParsedIdToken</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="storeSessionState"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Protected</span>
                            storeSessionState
                            </b>
                            <a href="#storeSessionState"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>storeSessionState(sessionState: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1376" class="link-to-prism">projects/lib/src/oauth-service.ts:1376</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>sessionState</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="tryLogin"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            tryLogin
                            </b>
                            <a href="#tryLogin"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon fa fa-reset"></span>
                        <code>tryLogin(options: <a href="../classes/LoginOptions.html">LoginOptions</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="1234" class="link-to-prism">projects/lib/src/oauth-service.ts:1234</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Checks whether there are tokens in the hash fragment
as a result of the implicit flow. These tokens are
parsed, validated and used to sign the user in to the
current client.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Default value</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code><a href="../classes/LoginOptions.html" target="_self" >LoginOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            no
                                                    </td>
                                                    
                                                        <td>
                                                                <code>null</code>
                                                        </td>

                                                        <td>
                                                                <code><p>Optinal options.</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="events"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            events
                            </b>
                            <a href="#events"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon fa fa-reset"></span><code>events:     <code><a href="../classes/OAuthEvent.html" target="_self" >Observable&lt;OAuthEvent&gt;</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../classes/OAuthEvent.html" target="_self" >Observable&lt;OAuthEvent&gt;</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">projects/lib/src/oauth-service.ts:61</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Informs about events, like token_received or token_expires.
See the string enum EventType for a full list of events.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="state"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                                <span class="modifier">Optional</span>
                            state
                            </b>
                            <a href="#state"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon fa fa-reset"></span><code>state:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&#x27;&#x27;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">projects/lib/src/oauth-service.ts:67</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The received (passed around) state, when logging
in with implicit flow.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="tokenValidationHandler"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            tokenValidationHandler
                            </b>
                            <a href="#tokenValidationHandler"><span class="fa fa-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon fa fa-reset"></span><code>tokenValidationHandler:     <code><a href="../classes/ValidationHandler.html" target="_self" >ValidationHandler</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../classes/ValidationHandler.html" target="_self" >ValidationHandler</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">projects/lib/src/oauth-service.ts:43</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The ValidationHandler used to validate received
id_tokens.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, NgZone, Optional } from &#x27;@angular/core&#x27;;
import { HttpClient, HttpHeaders, HttpParams } from &#x27;@angular/common/http&#x27;;
import { Observable, Subject, Subscription, of, race } from &#x27;rxjs&#x27;;
import { filter, take, delay, first, tap, map } from &#x27;rxjs/operators&#x27;;

import {
  ValidationHandler,
  ValidationParams
} from &#x27;./token-validation/validation-handler&#x27;;
import { UrlHelperService } from &#x27;./url-helper.service&#x27;;
import {
  OAuthEvent,
  OAuthInfoEvent,
  OAuthErrorEvent,
  OAuthSuccessEvent
} from &#x27;./events&#x27;;
import {
  OAuthStorage,
  LoginOptions,
  ParsedIdToken,
  OidcDiscoveryDoc,
  TokenResponse,
  UserInfo
} from &#x27;./types&#x27;;
import { b64DecodeUnicode } from &#x27;./base64-helper&#x27;;
import { AuthConfig } from &#x27;./auth.config&#x27;;
import { WebHttpUrlEncodingCodec } from &#x27;./encoder&#x27;;

/**
 * Service for logging in and logging out with
 * OIDC and OAuth2. Supports implicit flow and
 * password flow.
 */
@Injectable()
export class OAuthService extends AuthConfig {
  // extending AuthConfig ist just for LEGACY reasons
  // to not break existing code

  /**
   * The ValidationHandler used to validate received
   * id_tokens.
   */
  public tokenValidationHandler: ValidationHandler;

  /**
   * @internal
   * Deprecated:  use property events instead
   */
  public discoveryDocumentLoaded &#x3D; false;

  /**
   * @internal
   * Deprecated:  use property events instead
   */
  public discoveryDocumentLoaded$: Observable&lt;object&gt;;

  /**
   * Informs about events, like token_received or token_expires.
   * See the string enum EventType for a full list of events.
   */
  public events: Observable&lt;OAuthEvent&gt;;

  /**
   * The received (passed around) state, when logging
   * in with implicit flow.
   */
  public state? &#x3D; &#x27;&#x27;;

  private eventsSubject: Subject&lt;OAuthEvent&gt; &#x3D; new Subject&lt;OAuthEvent&gt;();
  private discoveryDocumentLoadedSubject: Subject&lt;object&gt; &#x3D; new Subject&lt;
    object
  &gt;();
  private silentRefreshPostMessageEventListener: EventListener;
  private grantTypesSupported: Array&lt;string&gt; &#x3D; [];
  private _storage: OAuthStorage;
  private accessTokenTimeoutSubscription: Subscription;
  private idTokenTimeoutSubscription: Subscription;
  private sessionCheckEventListener: EventListener;
  private jwksUri: string;
  private sessionCheckTimer: any;
  private silentRefreshSubject: string;
  private inImplicitFlow &#x3D; false;

  constructor(
    private ngZone: NgZone,
    private http: HttpClient,
    @Optional() storage: OAuthStorage,
    @Optional() tokenValidationHandler: ValidationHandler,
    @Optional() private config: AuthConfig,
    private urlHelper: UrlHelperService
  ) {
    super();

    this.discoveryDocumentLoaded$ &#x3D; this.discoveryDocumentLoadedSubject.asObservable();
    this.events &#x3D; this.eventsSubject.asObservable();

    if (tokenValidationHandler) {
      this.tokenValidationHandler &#x3D; tokenValidationHandler;
    }

    if (config) {
      this.configure(config);
    }

    try {
      if (storage) {
        this.setStorage(storage);
      } else if (typeof sessionStorage !&#x3D;&#x3D; &#x27;undefined&#x27;) {
        this.setStorage(sessionStorage);
      }
    } catch (e) {
      console.error(
        &#x27;cannot access sessionStorage. Consider setting an own storage implementation using setStorage&#x27;,
        e
      );
    }
    this.setupRefreshTimer();
  }

  /**
   * Use this method to configure the service
   * @param config the configuration
   */
  public configure(config: AuthConfig) {
    // For the sake of downward compatibility with
    // original configuration API
    Object.assign(this, new AuthConfig(), config);

    this.config &#x3D; Object.assign({} as AuthConfig, new AuthConfig(), config);

    if (this.sessionChecksEnabled) {
      this.setupSessionCheck();
    }

    this.configChanged();
  }

  private configChanged(): void {}

  public restartSessionChecksIfStillLoggedIn(): void {
    if (this.hasValidIdToken()) {
      this.initSessionCheck();
    }
  }

  private restartRefreshTimerIfStillLoggedIn(): void {
    this.setupExpirationTimers();
  }

  private setupSessionCheck() {
    this.events.pipe(filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;token_received&#x27;)).subscribe(e &#x3D;&gt; {
      this.initSessionCheck();
    });
  }

  /**
   *
   * @param params Additional parameter to pass
   */
  public setupAutomaticSilentRefresh(params: object &#x3D; {}) {
    this.events.pipe(filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;token_expires&#x27;)).subscribe(e &#x3D;&gt; {
      this.silentRefresh(params).catch(_ &#x3D;&gt; {
        this.debug(&#x27;automatic silent refresh did not work&#x27;);
      });
    });

    this.restartRefreshTimerIfStillLoggedIn();
  }

  public loadDiscoveryDocumentAndTryLogin(options: LoginOptions &#x3D; null) {
    return this.loadDiscoveryDocument().then(doc &#x3D;&gt; {
      return this.tryLogin(options);
    });
  }

  public loadDiscoveryDocumentAndLogin(options: LoginOptions &#x3D; null) {
    return this.loadDiscoveryDocumentAndTryLogin(options).then(_ &#x3D;&gt; {
      if (!this.hasValidIdToken() || !this.hasValidAccessToken()) {
        this.initImplicitFlow();
        return false;
      } else {
        return true;
      }
    });
  }

  private debug(...args): void {
    if (this.showDebugInformation) {
      console.debug.apply(console, args);
    }
  }

  private validateUrlFromDiscoveryDocument(url: string): string[] {
    const errors: string[] &#x3D; [];
    const httpsCheck &#x3D; this.validateUrlForHttps(url);
    const issuerCheck &#x3D; this.validateUrlAgainstIssuer(url);

    if (!httpsCheck) {
      errors.push(
        &#x27;https for all urls required. Also for urls received by discovery.&#x27;
      );
    }

    if (!issuerCheck) {
      errors.push(
        &#x27;Every url in discovery document has to start with the issuer url.&#x27; +
          &#x27;Also see property strictDiscoveryDocumentValidation.&#x27;
      );
    }

    return errors;
  }

  private validateUrlForHttps(url: string): boolean {
    if (!url) {
      return true;
    }

    const lcUrl &#x3D; url.toLowerCase();

    if (this.requireHttps &#x3D;&#x3D;&#x3D; false) {
      return true;
    }

    if (
      (lcUrl.match(/^http:\/\/localhost($|[:\/])/) ||
        lcUrl.match(/^http:\/\/localhost($|[:\/])/)) &amp;&amp;
      this.requireHttps &#x3D;&#x3D;&#x3D; &#x27;remoteOnly&#x27;
    ) {
      return true;
    }

    return lcUrl.startsWith(&#x27;https://&#x27;);
  }

  private validateUrlAgainstIssuer(url: string) {
    if (!this.strictDiscoveryDocumentValidation) {
      return true;
    }
    if (!url) {
      return true;
    }
    return url.toLowerCase().startsWith(this.issuer.toLowerCase());
  }

  private setupRefreshTimer(): void {
    if (typeof window &#x3D;&#x3D;&#x3D; &#x27;undefined&#x27;) {
      this.debug(&#x27;timer not supported on this plattform&#x27;);
      return;
    }

    if (this.hasValidIdToken) {
      this.clearAccessTokenTimer();
      this.clearIdTokenTimer();
      this.setupExpirationTimers();
    }

    this.events.pipe(filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;token_received&#x27;)).subscribe(_ &#x3D;&gt; {
      this.clearAccessTokenTimer();
      this.clearIdTokenTimer();
      this.setupExpirationTimers();
    });
  }

  private setupExpirationTimers(): void {
    const idTokenExp &#x3D; this.getIdTokenExpiration() || Number.MAX_VALUE;
    const accessTokenExp &#x3D; this.getAccessTokenExpiration() || Number.MAX_VALUE;
    const useAccessTokenExp &#x3D; accessTokenExp &lt;&#x3D; idTokenExp;

    if (this.hasValidAccessToken() &amp;&amp; useAccessTokenExp) {
      this.setupAccessTokenTimer();
    }

    if (this.hasValidIdToken() &amp;&amp; !useAccessTokenExp) {
      this.setupIdTokenTimer();
    }
  }

  private setupAccessTokenTimer(): void {
    const expiration &#x3D; this.getAccessTokenExpiration();
    const storedAt &#x3D; this.getAccessTokenStoredAt();
    const timeout &#x3D; this.calcTimeout(storedAt, expiration);

    this.ngZone.runOutsideAngular(() &#x3D;&gt; {
      this.accessTokenTimeoutSubscription &#x3D; of(
        new OAuthInfoEvent(&#x27;token_expires&#x27;, &#x27;access_token&#x27;)
      )
        .pipe(delay(timeout))
        .subscribe(e &#x3D;&gt; {
          this.ngZone.run(() &#x3D;&gt; {
            this.eventsSubject.next(e);
          });
        });
    });
  }

  private setupIdTokenTimer(): void {
    const expiration &#x3D; this.getIdTokenExpiration();
    const storedAt &#x3D; this.getIdTokenStoredAt();
    const timeout &#x3D; this.calcTimeout(storedAt, expiration);

    this.ngZone.runOutsideAngular(() &#x3D;&gt; {
      this.idTokenTimeoutSubscription &#x3D; of(
        new OAuthInfoEvent(&#x27;token_expires&#x27;, &#x27;id_token&#x27;)
      )
        .pipe(delay(timeout))
        .subscribe(e &#x3D;&gt; {
          this.ngZone.run(() &#x3D;&gt; {
            this.eventsSubject.next(e);
          });
        });
    });
  }

  private clearAccessTokenTimer(): void {
    if (this.accessTokenTimeoutSubscription) {
      this.accessTokenTimeoutSubscription.unsubscribe();
    }
  }

  private clearIdTokenTimer(): void {
    if (this.idTokenTimeoutSubscription) {
      this.idTokenTimeoutSubscription.unsubscribe();
    }
  }

  private calcTimeout(storedAt: number, expiration: number): number {
    const delta &#x3D; (expiration - storedAt) * this.timeoutFactor;
    return delta;
  }

  /**
   * Sets a custom storage used to store the received
   * tokens on client side. By default, the browser&#x27;s
   * sessionStorage is used.
   *
   * @param storage
   */
  public setStorage(storage: OAuthStorage): void {
    this._storage &#x3D; storage;
    this.configChanged();
  }

  /**
   * Loads the discovery document to configure most
   * properties of this service. The url of the discovery
   * document is infered from the issuer&#x27;s url according
   * to the OpenId Connect spec. To use another url you
   * can pass it to to optional parameter fullUrl.
   *
   * @param fullUrl
   */
  public loadDiscoveryDocument(fullUrl: string &#x3D; null): Promise&lt;object&gt; {
    return new Promise((resolve, reject) &#x3D;&gt; {
      if (!fullUrl) {
        fullUrl &#x3D; this.issuer || &#x27;&#x27;;
        if (!fullUrl.endsWith(&#x27;/&#x27;)) {
          fullUrl +&#x3D; &#x27;/&#x27;;
        }
        fullUrl +&#x3D; &#x27;.well-known/openid-configuration&#x27;;
      }

      if (!this.validateUrlForHttps(fullUrl)) {
        reject(&#x27;issuer must use Https. Also check property requireHttps.&#x27;);
        return;
      }

      this.http.get&lt;OidcDiscoveryDoc&gt;(fullUrl).subscribe(
        doc &#x3D;&gt; {
          if (!this.validateDiscoveryDocument(doc)) {
            this.eventsSubject.next(
              new OAuthErrorEvent(&#x27;discovery_document_validation_error&#x27;, null)
            );
            reject(&#x27;discovery_document_validation_error&#x27;);
            return;
          }

          this.loginUrl &#x3D; doc.authorization_endpoint;
          this.logoutUrl &#x3D; doc.end_session_endpoint;
          this.grantTypesSupported &#x3D; doc.grant_types_supported;
          this.issuer &#x3D; doc.issuer;
          this.tokenEndpoint &#x3D; doc.token_endpoint;
          this.userinfoEndpoint &#x3D; doc.userinfo_endpoint;
          this.jwksUri &#x3D; doc.jwks_uri;
          this.sessionCheckIFrameUrl &#x3D; doc.check_session_iframe;

          this.discoveryDocumentLoaded &#x3D; true;
          this.discoveryDocumentLoadedSubject.next(doc);

          if (this.sessionChecksEnabled) {
            this.restartSessionChecksIfStillLoggedIn();
          }

          this.loadJwks()
            .then(jwks &#x3D;&gt; {
              const result: object &#x3D; {
                discoveryDocument: doc,
                jwks: jwks
              };

              const event &#x3D; new OAuthSuccessEvent(
                &#x27;discovery_document_loaded&#x27;,
                result
              );
              this.eventsSubject.next(event);
              resolve(event);
              return;
            })
            .catch(err &#x3D;&gt; {
              this.eventsSubject.next(
                new OAuthErrorEvent(&#x27;discovery_document_load_error&#x27;, err)
              );
              reject(err);
              return;
            });
        },
        err &#x3D;&gt; {
          console.error(&#x27;error loading discovery document&#x27;, err);
          this.eventsSubject.next(
            new OAuthErrorEvent(&#x27;discovery_document_load_error&#x27;, err)
          );
          reject(err);
        }
      );
    });
  }

  private loadJwks(): Promise&lt;object&gt; {
    return new Promise&lt;object&gt;((resolve, reject) &#x3D;&gt; {
      if (this.jwksUri) {
        this.http.get(this.jwksUri).subscribe(
          jwks &#x3D;&gt; {
            this.jwks &#x3D; jwks;
            this.eventsSubject.next(
              new OAuthSuccessEvent(&#x27;discovery_document_loaded&#x27;)
            );
            resolve(jwks);
          },
          err &#x3D;&gt; {
            console.error(&#x27;error loading jwks&#x27;, err);
            this.eventsSubject.next(
              new OAuthErrorEvent(&#x27;jwks_load_error&#x27;, err)
            );
            reject(err);
          }
        );
      } else {
        resolve(null);
      }
    });
  }

  private validateDiscoveryDocument(doc: OidcDiscoveryDoc): boolean {
    let errors: string[];

    if (!this.skipIssuerCheck &amp;&amp; doc.issuer !&#x3D;&#x3D; this.issuer) {
      console.error(
        &#x27;invalid issuer in discovery document&#x27;,
        &#x27;expected: &#x27; + this.issuer,
        &#x27;current: &#x27; + doc.issuer
      );
      return false;
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.authorization_endpoint);
    if (errors.length &gt; 0) {
      console.error(
        &#x27;error validating authorization_endpoint in discovery document&#x27;,
        errors
      );
      return false;
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.end_session_endpoint);
    if (errors.length &gt; 0) {
      console.error(
        &#x27;error validating end_session_endpoint in discovery document&#x27;,
        errors
      );
      return false;
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.token_endpoint);
    if (errors.length &gt; 0) {
      console.error(
        &#x27;error validating token_endpoint in discovery document&#x27;,
        errors
      );
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.userinfo_endpoint);
    if (errors.length &gt; 0) {
      console.error(
        &#x27;error validating userinfo_endpoint in discovery document&#x27;,
        errors
      );
      return false;
    }

    errors &#x3D; this.validateUrlFromDiscoveryDocument(doc.jwks_uri);
    if (errors.length &gt; 0) {
      console.error(&#x27;error validating jwks_uri in discovery document&#x27;, errors);
      return false;
    }

    if (this.sessionChecksEnabled &amp;&amp; !doc.check_session_iframe) {
      console.warn(
        &#x27;sessionChecksEnabled is activated but discovery document&#x27; +
          &#x27; does not contain a check_session_iframe field&#x27;
      );
    }

    // this.sessionChecksEnabled &#x3D; !!doc.check_session_iframe;

    return true;
  }

  /**
   * Uses password flow to exchange userName and password for an
   * access_token. After receiving the access_token, this method
   * uses it to query the userinfo endpoint in order to get information
   * about the user in question.
   *
   * When using this, make sure that the property oidc is set to false.
   * Otherwise stricter validations take happen that makes this operation
   * fail.
   *
   * @param userName
   * @param password
   * @param headers Optional additional http-headers.
   */
  public fetchTokenUsingPasswordFlowAndLoadUserProfile(
    userName: string,
    password: string,
    headers: HttpHeaders &#x3D; new HttpHeaders()
  ): Promise&lt;object&gt; {
    return this.fetchTokenUsingPasswordFlow(userName, password, headers).then(
      () &#x3D;&gt; this.loadUserProfile()
    );
  }

  /**
   * Loads the user profile by accessing the user info endpoint defined by OpenId Connect.
   *
   * When using this with OAuth2 password flow, make sure that the property oidc is set to false.
   * Otherwise stricter validations take happen that makes this operation
   * fail.
   */
  public loadUserProfile(): Promise&lt;object&gt; {
    if (!this.hasValidAccessToken()) {
      throw new Error(&#x27;Can not load User Profile without access_token&#x27;);
    }
    if (!this.validateUrlForHttps(this.userinfoEndpoint)) {
      throw new Error(
        &#x27;userinfoEndpoint must use Http. Also check property requireHttps.&#x27;
      );
    }

    return new Promise((resolve, reject) &#x3D;&gt; {
      const headers &#x3D; new HttpHeaders().set(
        &#x27;Authorization&#x27;,
        &#x27;Bearer &#x27; + this.getAccessToken()
      );

      this.http.get&lt;UserInfo&gt;(this.userinfoEndpoint, { headers }).subscribe(
        info &#x3D;&gt; {
          this.debug(&#x27;userinfo received&#x27;, info);

          const existingClaims &#x3D; this.getIdentityClaims() || {};

          if (!this.skipSubjectCheck) {
            if (
              this.oidc &amp;&amp;
              (!existingClaims[&#x27;sub&#x27;] || info.sub !&#x3D;&#x3D; existingClaims[&#x27;sub&#x27;])
            ) {
              const err &#x3D;
                &#x27;if property oidc is true, the received user-id (sub) has to be the user-id &#x27; +
                &#x27;of the user that has logged in with oidc.\n&#x27; +
                &#x27;if you are not using oidc but just oauth2 password flow set oidc to false&#x27;;

              reject(err);
              return;
            }
          }

          info &#x3D; Object.assign({}, existingClaims, info);

          this._storage.setItem(&#x27;id_token_claims_obj&#x27;, JSON.stringify(info));
          this.eventsSubject.next(new OAuthSuccessEvent(&#x27;user_profile_loaded&#x27;));
          resolve(info);
        },
        err &#x3D;&gt; {
          console.error(&#x27;error loading user info&#x27;, err);
          this.eventsSubject.next(
            new OAuthErrorEvent(&#x27;user_profile_load_error&#x27;, err)
          );
          reject(err);
        }
      );
    });
  }

  /**
   * Uses password flow to exchange userName and password for an access_token.
   * @param userName
   * @param password
   * @param headers Optional additional http-headers.
   */
  public fetchTokenUsingPasswordFlow(
    userName: string,
    password: string,
    headers: HttpHeaders &#x3D; new HttpHeaders()
  ): Promise&lt;object&gt; {
    if (!this.validateUrlForHttps(this.tokenEndpoint)) {
      throw new Error(
        &#x27;tokenEndpoint must use Http. Also check property requireHttps.&#x27;
      );
    }

    return new Promise((resolve, reject) &#x3D;&gt; {
      /**
       * A &#x60;HttpParameterCodec&#x60; that uses &#x60;encodeURIComponent&#x60; and &#x60;decodeURIComponent&#x60; to
       * serialize and parse URL parameter keys and values.
       *
       * @stable
       */
      let params &#x3D; new HttpParams({ encoder: new WebHttpUrlEncodingCodec() })
        .set(&#x27;grant_type&#x27;, &#x27;password&#x27;)
        .set(&#x27;client_id&#x27;, this.clientId)
        .set(&#x27;scope&#x27;, this.scope)
        .set(&#x27;username&#x27;, userName)
        .set(&#x27;password&#x27;, password);

      if (this.dummyClientSecret) {
        params &#x3D; params.set(&#x27;client_secret&#x27;, this.dummyClientSecret);
      }

      if (this.customQueryParams) {
        for (const key of Object.getOwnPropertyNames(this.customQueryParams)) {
          params &#x3D; params.set(key, this.customQueryParams[key]);
        }
      }

      headers &#x3D; headers.set(
        &#x27;Content-Type&#x27;,
        &#x27;application/x-www-form-urlencoded&#x27;
      );

      this.http
        .post&lt;TokenResponse&gt;(this.tokenEndpoint, params, { headers })
        .subscribe(
          tokenResponse &#x3D;&gt; {
            this.debug(&#x27;tokenResponse&#x27;, tokenResponse);
            this.storeAccessTokenResponse(
              tokenResponse.access_token,
              tokenResponse.refresh_token,
              tokenResponse.expires_in,
              tokenResponse.scope
            );

            this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;));
            resolve(tokenResponse);
          },
          err &#x3D;&gt; {
            console.error(&#x27;Error performing password flow&#x27;, err);
            this.eventsSubject.next(new OAuthErrorEvent(&#x27;token_error&#x27;, err));
            reject(err);
          }
        );
    });
  }

  /**
   * Refreshes the token using a refresh_token.
   * This does not work for implicit flow, b/c
   * there is no refresh_token in this flow.
   * A solution for this is provided by the
   * method silentRefresh.
   */
  public refreshToken(): Promise&lt;object&gt; {
    if (!this.validateUrlForHttps(this.tokenEndpoint)) {
      throw new Error(
        &#x27;tokenEndpoint must use Http. Also check property requireHttps.&#x27;
      );
    }

    return new Promise((resolve, reject) &#x3D;&gt; {
      let params &#x3D; new HttpParams()
        .set(&#x27;grant_type&#x27;, &#x27;refresh_token&#x27;)
        .set(&#x27;client_id&#x27;, this.clientId)
        .set(&#x27;scope&#x27;, this.scope)
        .set(&#x27;refresh_token&#x27;, this._storage.getItem(&#x27;refresh_token&#x27;));

      if (this.dummyClientSecret) {
        params &#x3D; params.set(&#x27;client_secret&#x27;, this.dummyClientSecret);
      }

      if (this.customQueryParams) {
        for (const key of Object.getOwnPropertyNames(this.customQueryParams)) {
          params &#x3D; params.set(key, this.customQueryParams[key]);
        }
      }

      const headers &#x3D; new HttpHeaders().set(
        &#x27;Content-Type&#x27;,
        &#x27;application/x-www-form-urlencoded&#x27;
      );

      this.http
        .post&lt;TokenResponse&gt;(this.tokenEndpoint, params, { headers })
        .subscribe(
          tokenResponse &#x3D;&gt; {
            this.debug(&#x27;refresh tokenResponse&#x27;, tokenResponse);
            this.storeAccessTokenResponse(
              tokenResponse.access_token,
              tokenResponse.refresh_token,
              tokenResponse.expires_in,
              tokenResponse.scope
            );

            this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;));
            this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_refreshed&#x27;));
            resolve(tokenResponse);
          },
          err &#x3D;&gt; {
            console.error(&#x27;Error performing password flow&#x27;, err);
            this.eventsSubject.next(
              new OAuthErrorEvent(&#x27;token_refresh_error&#x27;, err)
            );
            reject(err);
          }
        );
    });
  }

  private removeSilentRefreshEventListener(): void {
    if (this.silentRefreshPostMessageEventListener) {
      window.removeEventListener(
        &#x27;message&#x27;,
        this.silentRefreshPostMessageEventListener
      );
      this.silentRefreshPostMessageEventListener &#x3D; null;
    }
  }

  private setupSilentRefreshEventListener(): void {
    this.removeSilentRefreshEventListener();

    this.silentRefreshPostMessageEventListener &#x3D; (e: MessageEvent) &#x3D;&gt; {
      let expectedPrefix &#x3D; &#x27;#&#x27;;

      if (this.silentRefreshMessagePrefix) {
        expectedPrefix +&#x3D; this.silentRefreshMessagePrefix;
      }

      if (!e || !e.data || typeof e.data !&#x3D;&#x3D; &#x27;string&#x27;) {
        return;
      }

      const prefixedMessage: string &#x3D; e.data;

      if (!prefixedMessage.startsWith(expectedPrefix)) {
        return;
      }

      const message &#x3D; &#x27;#&#x27; + prefixedMessage.substr(expectedPrefix.length);

      this.tryLogin({
        customHashFragment: message,
        onLoginError: err &#x3D;&gt; {
          this.eventsSubject.next(
            new OAuthErrorEvent(&#x27;silent_refresh_error&#x27;, err)
          );
        },
        onTokenReceived: () &#x3D;&gt; {
          this.eventsSubject.next(new OAuthSuccessEvent(&#x27;silently_refreshed&#x27;));
        }
      }).catch(err &#x3D;&gt; this.debug(&#x27;tryLogin during silent refresh failed&#x27;, err));
    };

    window.addEventListener(
      &#x27;message&#x27;,
      this.silentRefreshPostMessageEventListener
    );
  }

  /**
   * Performs a silent refresh for implicit flow.
   * Use this method to get a new tokens when/ before
   * the existing tokens expires.
   */
  public silentRefresh(params: object &#x3D; {}, noPrompt &#x3D; true): Promise&lt;OAuthEvent&gt; {
    const claims: object &#x3D; this.getIdentityClaims() || {};

    if (this.useIdTokenHintForSilentRefresh &amp;&amp; this.hasValidIdToken) {
      params[&#x27;id_token_hint&#x27;] &#x3D; this.getIdToken();
    }

    /*
        if (!claims) {
            throw new Error(&#x27;cannot perform a silent refresh as the user is not logged in&#x27;);
        }
        */

    if (!this.validateUrlForHttps(this.loginUrl)) {
      throw new Error(
        &#x27;tokenEndpoint must use Https. Also check property requireHttps.&#x27;
      );
    }

    if (typeof document &#x3D;&#x3D;&#x3D; &#x27;undefined&#x27;) {
      throw new Error(&#x27;silent refresh is not supported on this platform&#x27;);
    }

    const existingIframe &#x3D; document.getElementById(
      this.silentRefreshIFrameName
    );
    if (existingIframe) {
      document.body.removeChild(existingIframe);
    }

    this.silentRefreshSubject &#x3D; claims[&#x27;sub&#x27;];

    const iframe &#x3D; document.createElement(&#x27;iframe&#x27;);
    iframe.id &#x3D; this.silentRefreshIFrameName;

    this.setupSilentRefreshEventListener();

    const redirectUri &#x3D; this.silentRefreshRedirectUri || this.redirectUri;
    this.createLoginUrl(null, null, redirectUri, noPrompt, params).then(url &#x3D;&gt; {
      iframe.setAttribute(&#x27;src&#x27;, url);
      if (!this.silentRefreshShowIFrame) {
        iframe.style[&#x27;display&#x27;] &#x3D; &#x27;none&#x27;;
      }
      document.body.appendChild(iframe);
    });

    const errors &#x3D; this.events.pipe(
      filter(e &#x3D;&gt; e instanceof OAuthErrorEvent),
      first()
    );
    const success &#x3D; this.events.pipe(
      filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;silently_refreshed&#x27;),
      first()
    );
    const timeout &#x3D; of(
      new OAuthErrorEvent(&#x27;silent_refresh_timeout&#x27;, null)
    ).pipe(delay(this.silentRefreshTimeout));

    return race([errors, success, timeout])
      .pipe(
        tap(e &#x3D;&gt; {
          if (e.type &#x3D;&#x3D;&#x3D; &#x27;silent_refresh_timeout&#x27;) {
            this.eventsSubject.next(e);
          }
        }),
        map(e &#x3D;&gt; {
          if (e instanceof OAuthErrorEvent) {
            throw e;
          }
          return e;
        })
      )
      .toPromise();
  }

  private canPerformSessionCheck(): boolean {
    if (!this.sessionChecksEnabled) {
      return false;
    }
    if (!this.sessionCheckIFrameUrl) {
      console.warn(
        &#x27;sessionChecksEnabled is activated but there &#x27; +
          &#x27;is no sessionCheckIFrameUrl&#x27;
      );
      return false;
    }
    const sessionState &#x3D; this.getSessionState();
    if (!sessionState) {
      console.warn(
        &#x27;sessionChecksEnabled is activated but there &#x27; + &#x27;is no session_state&#x27;
      );
      return false;
    }
    if (typeof document &#x3D;&#x3D;&#x3D; &#x27;undefined&#x27;) {
      return false;
    }

    return true;
  }

  private setupSessionCheckEventListener(): void {
    this.removeSessionCheckEventListener();

    this.sessionCheckEventListener &#x3D; (e: MessageEvent) &#x3D;&gt; {
      const origin &#x3D; e.origin.toLowerCase();
      const issuer &#x3D; this.issuer.toLowerCase();

      this.debug(&#x27;sessionCheckEventListener&#x27;);

      if (!issuer.startsWith(origin)) {
        this.debug(
          &#x27;sessionCheckEventListener&#x27;,
          &#x27;wrong origin&#x27;,
          origin,
          &#x27;expected&#x27;,
          issuer
        );
      }

      switch (e.data) {
        case &#x27;unchanged&#x27;:
          this.handleSessionUnchanged();
          break;
        case &#x27;changed&#x27;:
          this.handleSessionChange();
          break;
        case &#x27;error&#x27;:
          this.handleSessionError();
          break;
      }

      this.debug(&#x27;got info from session check inframe&#x27;, e);
    };

    window.addEventListener(&#x27;message&#x27;, this.sessionCheckEventListener);
  }

  private handleSessionUnchanged(): void {
    this.debug(&#x27;session check&#x27;, &#x27;session unchanged&#x27;);
  }

  private handleSessionChange(): void {
    /* events: session_changed, relogin, stopTimer, logged_out*/
    this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_changed&#x27;));
    this.stopSessionCheckTimer();
    if (this.silentRefreshRedirectUri) {
      this.silentRefresh().catch(_ &#x3D;&gt;
        this.debug(&#x27;silent refresh failed after session changed&#x27;)
      );
      this.waitForSilentRefreshAfterSessionChange();
    } else {
      this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_terminated&#x27;));
      this.logOut(true);
    }
  }

  private waitForSilentRefreshAfterSessionChange() {
    this.events
      .pipe(
        filter(
          (e: OAuthEvent) &#x3D;&gt;
            e.type &#x3D;&#x3D;&#x3D; &#x27;silently_refreshed&#x27; ||
            e.type &#x3D;&#x3D;&#x3D; &#x27;silent_refresh_timeout&#x27; ||
            e.type &#x3D;&#x3D;&#x3D; &#x27;silent_refresh_error&#x27;
        ),
        first()
      )
      .subscribe(e &#x3D;&gt; {
        if (e.type !&#x3D;&#x3D; &#x27;silently_refreshed&#x27;) {
          this.debug(&#x27;silent refresh did not work after session changed&#x27;);
          this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_terminated&#x27;));
          this.logOut(true);
        }
      });
  }

  private handleSessionError(): void {
    this.stopSessionCheckTimer();
    this.eventsSubject.next(new OAuthInfoEvent(&#x27;session_error&#x27;));
  }

  private removeSessionCheckEventListener(): void {
    if (this.sessionCheckEventListener) {
      window.removeEventListener(&#x27;message&#x27;, this.sessionCheckEventListener);
      this.sessionCheckEventListener &#x3D; null;
    }
  }

  private initSessionCheck(): void {
    if (!this.canPerformSessionCheck()) {
      return;
    }

    const existingIframe &#x3D; document.getElementById(this.sessionCheckIFrameName);
    if (existingIframe) {
      document.body.removeChild(existingIframe);
    }

    const iframe &#x3D; document.createElement(&#x27;iframe&#x27;);
    iframe.id &#x3D; this.sessionCheckIFrameName;

    this.setupSessionCheckEventListener();

    const url &#x3D; this.sessionCheckIFrameUrl;
    iframe.setAttribute(&#x27;src&#x27;, url);
    // iframe.style.visibility &#x3D; &#x27;hidden&#x27;;
    iframe.style.display &#x3D; &#x27;none&#x27;;
    document.body.appendChild(iframe);

    this.startSessionCheckTimer();
  }

  private startSessionCheckTimer(): void {
    this.stopSessionCheckTimer();
    this.sessionCheckTimer &#x3D; setInterval(
      this.checkSession.bind(this),
      this.sessionCheckIntervall
    );
  }

  private stopSessionCheckTimer(): void {
    if (this.sessionCheckTimer) {
      clearInterval(this.sessionCheckTimer);
      this.sessionCheckTimer &#x3D; null;
    }
  }

  private checkSession(): void {
    const iframe: any &#x3D; document.getElementById(this.sessionCheckIFrameName);

    if (!iframe) {
      console.warn(
        &#x27;checkSession did not find iframe&#x27;,
        this.sessionCheckIFrameName
      );
    }

    const sessionState &#x3D; this.getSessionState();

    if (!sessionState) {
      this.stopSessionCheckTimer();
    }

    const message &#x3D; this.clientId + &#x27; &#x27; + sessionState;
    iframe.contentWindow.postMessage(message, this.issuer);
  }

  private createLoginUrl(
    state &#x3D; &#x27;&#x27;,
    loginHint &#x3D; &#x27;&#x27;,
    customRedirectUri &#x3D; &#x27;&#x27;,
    noPrompt &#x3D; false,
    params: object &#x3D; {}
  ) {
    const that &#x3D; this;

    let redirectUri: string;

    if (customRedirectUri) {
      redirectUri &#x3D; customRedirectUri;
    } else {
      redirectUri &#x3D; this.redirectUri;
    }

    return this.createAndSaveNonce().then((nonce: any) &#x3D;&gt; {
      if (state) {
        state &#x3D; nonce + this.config.nonceStateSeparator + state;
      } else {
        state &#x3D; nonce;
      }

      if (!this.requestAccessToken &amp;&amp; !this.oidc) {
        throw new Error(
          &#x27;Either requestAccessToken or oidc or both must be true&#x27;
        );
      }

      if (this.oidc &amp;&amp; this.requestAccessToken) {
        this.responseType &#x3D; &#x27;id_token token&#x27;;
      } else if (this.oidc &amp;&amp; !this.requestAccessToken) {
        this.responseType &#x3D; &#x27;id_token&#x27;;
      } else {
        this.responseType &#x3D; &#x27;token&#x27;;
      }

      const seperationChar &#x3D; that.loginUrl.indexOf(&#x27;?&#x27;) &gt; -1 ? &#x27;&amp;&#x27; : &#x27;?&#x27;;

      let scope &#x3D; that.scope;

      if (this.oidc &amp;&amp; !scope.match(/(^|\s)openid($|\s)/)) {
        scope &#x3D; &#x27;openid &#x27; + scope;
      }

      let url &#x3D;
        that.loginUrl +
        seperationChar +
        &#x27;response_type&#x3D;&#x27; +
        encodeURIComponent(that.responseType) +
        &#x27;&amp;client_id&#x3D;&#x27; +
        encodeURIComponent(that.clientId) +
        &#x27;&amp;state&#x3D;&#x27; +
        encodeURIComponent(state) +
        &#x27;&amp;redirect_uri&#x3D;&#x27; +
        encodeURIComponent(redirectUri) +
        &#x27;&amp;scope&#x3D;&#x27; +
        encodeURIComponent(scope);

      if (loginHint) {
        url +&#x3D; &#x27;&amp;login_hint&#x3D;&#x27; + encodeURIComponent(loginHint);
      }

      if (that.resource) {
        url +&#x3D; &#x27;&amp;resource&#x3D;&#x27; + encodeURIComponent(that.resource);
      }

      if (that.oidc) {
        url +&#x3D; &#x27;&amp;nonce&#x3D;&#x27; + encodeURIComponent(nonce);
      }

      if (noPrompt) {
        url +&#x3D; &#x27;&amp;prompt&#x3D;none&#x27;;
      }

      for (const key of Object.keys(params)) {
        url +&#x3D;
          &#x27;&amp;&#x27; + encodeURIComponent(key) + &#x27;&#x3D;&#x27; + encodeURIComponent(params[key]);
      }

      if (this.customQueryParams) {
        for (const key of Object.getOwnPropertyNames(this.customQueryParams)) {
          url +&#x3D;
            &#x27;&amp;&#x27; + key + &#x27;&#x3D;&#x27; + encodeURIComponent(this.customQueryParams[key]);
        }
      }

      return url;
    });
  }

  initImplicitFlowInternal(
    additionalState &#x3D; &#x27;&#x27;,
    params: string | object &#x3D; &#x27;&#x27;
  ): void {
    if (this.inImplicitFlow) {
      return;
    }

    this.inImplicitFlow &#x3D; true;

    if (!this.validateUrlForHttps(this.loginUrl)) {
      throw new Error(
        &#x27;loginUrl must use Http. Also check property requireHttps.&#x27;
      );
    }

    let addParams: object &#x3D; {};
    let loginHint: string &#x3D; null;

    if (typeof params &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
      loginHint &#x3D; params;
    } else if (typeof params &#x3D;&#x3D;&#x3D; &#x27;object&#x27;) {
      addParams &#x3D; params;
    }

    this.createLoginUrl(additionalState, loginHint, null, false, addParams)
      .then(function(url) {
        location.href &#x3D; url;
      })
      .catch(error &#x3D;&gt; {
        console.error(&#x27;Error in initImplicitFlow&#x27;);
        console.error(error);
        this.inImplicitFlow &#x3D; false;
      });
  }

  /**
   * Starts the implicit flow and redirects to user to
   * the auth servers login url.
   *
   * @param additionalState Optinal state that is passes around.
   *  You find this state in the property &#x60;&#x60;state&#x60;&#x60; after &#x60;&#x60;tryLogin&#x60;&#x60; logged in the user.
   * @param params Hash with additional parameter. If it is a string, it is used for the
   *               parameter loginHint (for the sake of compatibility with former versions)
   */
  public initImplicitFlow(
    additionalState &#x3D; &#x27;&#x27;,
    params: string | object &#x3D; &#x27;&#x27;
  ): void {
    if (this.loginUrl !&#x3D;&#x3D; &#x27;&#x27;) {
      this.initImplicitFlowInternal(additionalState, params);
    } else {
      this.events
        .pipe(filter(e &#x3D;&gt; e.type &#x3D;&#x3D;&#x3D; &#x27;discovery_document_loaded&#x27;))
        .subscribe(_ &#x3D;&gt; this.initImplicitFlowInternal(additionalState, params));
    }
  }

  private callOnTokenReceivedIfExists(options: LoginOptions): void {
    const that &#x3D; this;
    if (options.onTokenReceived) {
      const tokenParams &#x3D; {
        idClaims: that.getIdentityClaims(),
        idToken: that.getIdToken(),
        accessToken: that.getAccessToken(),
        state: that.state
      };
      options.onTokenReceived(tokenParams);
    }
  }

  private storeAccessTokenResponse(
    accessToken: string,
    refreshToken: string,
    expiresIn: number,
    grantedScopes: String
  ): void {
    this._storage.setItem(&#x27;access_token&#x27;, accessToken);
    this._storage.setItem(
      &#x27;granted_scopes&#x27;,
      JSON.stringify(grantedScopes.split(&#x27;+&#x27;))
    );
    this._storage.setItem(&#x27;access_token_stored_at&#x27;, &#x27;&#x27; + Date.now());
    if (expiresIn) {
      const expiresInMilliSeconds &#x3D; expiresIn * 1000;
      const now &#x3D; new Date();
      const expiresAt &#x3D; now.getTime() + expiresInMilliSeconds;
      this._storage.setItem(&#x27;expires_at&#x27;, &#x27;&#x27; + expiresAt);
    }

    if (refreshToken) {
      this._storage.setItem(&#x27;refresh_token&#x27;, refreshToken);
    }
  }

  /**
   * Checks whether there are tokens in the hash fragment
   * as a result of the implicit flow. These tokens are
   * parsed, validated and used to sign the user in to the
   * current client.
   *
   * @param options Optinal options.
   */
  public tryLogin(options: LoginOptions &#x3D; null): Promise&lt;void&gt; {
    options &#x3D; options || {};

    let parts: object;

    if (options.customHashFragment) {
      parts &#x3D; this.urlHelper.getHashFragmentParams(options.customHashFragment);
    } else {
      parts &#x3D; this.urlHelper.getHashFragmentParams();
    }

    this.debug(&#x27;parsed url&#x27;, parts);

    const state &#x3D; decodeURIComponent(parts[&#x27;state&#x27;]);
    let nonceInState &#x3D; state;
    const idx &#x3D; state.indexOf(this.config.nonceStateSeparator);

    if (idx &gt; -1) {
      nonceInState &#x3D; state.substr(0, idx);
      this.state &#x3D; state.substr(idx + this.config.nonceStateSeparator.length);
    }

    if (parts[&#x27;error&#x27;]) {
      this.debug(&#x27;error trying to login&#x27;);
      this.handleLoginError(options, parts);
      const err &#x3D; new OAuthErrorEvent(&#x27;token_error&#x27;, {}, parts);
      this.eventsSubject.next(err);
      return Promise.reject(err);
    }

    const accessToken &#x3D; parts[&#x27;access_token&#x27;];
    const idToken &#x3D; parts[&#x27;id_token&#x27;];
    const sessionState &#x3D; parts[&#x27;session_state&#x27;];
    const grantedScopes &#x3D; parts[&#x27;scope&#x27;];

    if (!this.requestAccessToken &amp;&amp; !this.oidc) {
      return Promise.reject(
        &#x27;Either requestAccessToken or oidc or both must be true.&#x27;
      );
    }

    if (this.requestAccessToken &amp;&amp; !accessToken) {
      return Promise.resolve();
    }
    if (this.requestAccessToken &amp;&amp; !options.disableOAuth2StateCheck &amp;&amp; !state) {
      return Promise.resolve();
    }
    if (this.oidc &amp;&amp; !idToken) {
      return Promise.resolve();
    }

    if (this.sessionChecksEnabled &amp;&amp; !sessionState) {
      console.warn(
        &#x27;session checks (Session Status Change Notification) &#x27; +
          &#x27;is activated in the configuration but the id_token &#x27; +
          &#x27;does not contain a session_state claim&#x27;
      );
    }

    if (this.requestAccessToken &amp;&amp; !options.disableOAuth2StateCheck) {
      const success &#x3D; this.validateNonceForAccessToken(
        accessToken,
        nonceInState
      );
      if (!success) {
        const event &#x3D; new OAuthErrorEvent(&#x27;invalid_nonce_in_state&#x27;, null);
        this.eventsSubject.next(event);
        return Promise.reject(event);
      }
    }

    if (this.requestAccessToken) {
      this.storeAccessTokenResponse(
        accessToken,
        null,
        parts[&#x27;expires_in&#x27;] || this.fallbackAccessTokenExpirationTimeInSec,
        grantedScopes
      );
    }

    if (!this.oidc) {
      this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;));
      if (this.clearHashAfterLogin) {
        location.hash &#x3D; &#x27;&#x27;;
      }
      return Promise.resolve();
    }

    return this.processIdToken(idToken, accessToken)
      .then(result &#x3D;&gt; {
        if (options.validationHandler) {
          return options
            .validationHandler({
              accessToken: accessToken,
              idClaims: result.idTokenClaims,
              idToken: result.idToken,
              state: state
            })
            .then(_ &#x3D;&gt; result);
        }
        return result;
      })
      .then(result &#x3D;&gt; {
        this.storeIdToken(result);
        this.storeSessionState(sessionState);
        this.eventsSubject.next(new OAuthSuccessEvent(&#x27;token_received&#x27;));
        this.callOnTokenReceivedIfExists(options);
        this.inImplicitFlow &#x3D; false;
        if (this.clearHashAfterLogin) {
          location.hash &#x3D; &#x27;&#x27;;
        }
      })
      .catch(reason &#x3D;&gt; {
        this.eventsSubject.next(
          new OAuthErrorEvent(&#x27;token_validation_error&#x27;, reason)
        );
        console.error(&#x27;Error validating tokens&#x27;);
        console.error(reason);
        return Promise.reject(reason);
      });
  }

  private validateNonceForAccessToken(
    accessToken: string,
    nonceInState: string
  ): boolean {
    const savedNonce &#x3D; this._storage.getItem(&#x27;nonce&#x27;);
    if (savedNonce !&#x3D;&#x3D; nonceInState) {
      const err &#x3D; &#x27;validating access_token failed. wrong state/nonce.&#x27;;
      console.error(err, savedNonce, nonceInState);
      return false;
    }
    return true;
  }

  protected storeIdToken(idToken: ParsedIdToken) {
    this._storage.setItem(&#x27;id_token&#x27;, idToken.idToken);
    this._storage.setItem(&#x27;id_token_claims_obj&#x27;, idToken.idTokenClaimsJson);
    this._storage.setItem(&#x27;id_token_expires_at&#x27;, &#x27;&#x27; + idToken.idTokenExpiresAt);
    this._storage.setItem(&#x27;id_token_stored_at&#x27;, &#x27;&#x27; + Date.now());
  }

  protected storeSessionState(sessionState: string): void {
    this._storage.setItem(&#x27;session_state&#x27;, sessionState);
  }

  protected getSessionState(): string {
    return this._storage.getItem(&#x27;session_state&#x27;);
  }

  private handleLoginError(options: LoginOptions, parts: object): void {
    if (options.onLoginError) {
      options.onLoginError(parts);
    }
    if (this.clearHashAfterLogin) {
      location.hash &#x3D; &#x27;&#x27;;
    }
  }

  /**
   * @ignore
   */
  public processIdToken(
    idToken: string,
    accessToken: string
  ): Promise&lt;ParsedIdToken&gt; {
    const tokenParts &#x3D; idToken.split(&#x27;.&#x27;);
    const headerBase64 &#x3D; this.padBase64(tokenParts[0]);
    const headerJson &#x3D; b64DecodeUnicode(headerBase64);
    const header &#x3D; JSON.parse(headerJson);
    const claimsBase64 &#x3D; this.padBase64(tokenParts[1]);
    const claimsJson &#x3D; b64DecodeUnicode(claimsBase64);
    const claims &#x3D; JSON.parse(claimsJson);
    const savedNonce &#x3D; this._storage.getItem(&#x27;nonce&#x27;);

    if (Array.isArray(claims.aud)) {
      if (claims.aud.every(v &#x3D;&gt; v !&#x3D;&#x3D; this.clientId)) {
        const err &#x3D; &#x27;Wrong audience: &#x27; + claims.aud.join(&#x27;,&#x27;);
        console.warn(err);
        return Promise.reject(err);
      }
    } else {
      if (claims.aud !&#x3D;&#x3D; this.clientId) {
        const err &#x3D; &#x27;Wrong audience: &#x27; + claims.aud;
        console.warn(err);
        return Promise.reject(err);
      }
    }

    /*
        if (this.getKeyCount() &gt; 1 &amp;&amp; !header.kid) {
            let err &#x3D; &#x27;There needs to be a kid property in the id_token header when multiple keys are defined via the property jwks&#x27;;
            console.warn(err);
            return Promise.reject(err);
        }
        */

    if (!claims.sub) {
      const err &#x3D; &#x27;No sub claim in id_token&#x27;;
      console.warn(err);
      return Promise.reject(err);
    }

    /* For now, we only check whether the sub against
         * silentRefreshSubject when sessionChecksEnabled is on
         * We will reconsider in a later version to do this
         * in every other case too.
         */
    if (
      this.sessionChecksEnabled &amp;&amp;
      this.silentRefreshSubject &amp;&amp;
      this.silentRefreshSubject !&#x3D;&#x3D; claims[&#x27;sub&#x27;]
    ) {
      const err &#x3D;
        &#x27;After refreshing, we got an id_token for another user (sub). &#x27; +
        &#x60;Expected sub: ${this.silentRefreshSubject}, received sub: ${
          claims[&#x27;sub&#x27;]
        }&#x60;;

      console.warn(err);
      return Promise.reject(err);
    }

    if (!claims.iat) {
      const err &#x3D; &#x27;No iat claim in id_token&#x27;;
      console.warn(err);
      return Promise.reject(err);
    }

    if (claims.iss !&#x3D;&#x3D; this.issuer) {
      const err &#x3D; &#x27;Wrong issuer: &#x27; + claims.iss;
      console.warn(err);
      return Promise.reject(err);
    }

    if (claims.nonce !&#x3D;&#x3D; savedNonce) {
      const err &#x3D; &#x27;Wrong nonce: &#x27; + claims.nonce;
      console.warn(err);
      return Promise.reject(err);
    }

    if (
      !this.disableAtHashCheck &amp;&amp;
      this.requestAccessToken &amp;&amp;
      !claims[&#x27;at_hash&#x27;]
    ) {
      const err &#x3D; &#x27;An at_hash is needed!&#x27;;
      console.warn(err);
      return Promise.reject(err);
    }

    const now &#x3D; Date.now();
    const issuedAtMSec &#x3D; claims.iat * 1000;
    const expiresAtMSec &#x3D; claims.exp * 1000;
    const tenMinutesInMsec &#x3D; 1000 * 60 * 10;

    if (
      issuedAtMSec - tenMinutesInMsec &gt;&#x3D; now ||
      expiresAtMSec + tenMinutesInMsec &lt;&#x3D; now
    ) {
      const err &#x3D; &#x27;Token has been expired&#x27;;
      console.error(err);
      console.error({
        now: now,
        issuedAtMSec: issuedAtMSec,
        expiresAtMSec: expiresAtMSec
      });
      return Promise.reject(err);
    }

    const validationParams: ValidationParams &#x3D; {
      accessToken: accessToken,
      idToken: idToken,
      jwks: this.jwks,
      idTokenClaims: claims,
      idTokenHeader: header,
      loadKeys: () &#x3D;&gt; this.loadJwks()
    };

    if (
      !this.disableAtHashCheck &amp;&amp;
      this.requestAccessToken &amp;&amp;
      !this.checkAtHash(validationParams)
    ) {
      const err &#x3D; &#x27;Wrong at_hash&#x27;;
      console.warn(err);
      return Promise.reject(err);
    }

    return this.checkSignature(validationParams).then(_ &#x3D;&gt; {
      const result: ParsedIdToken &#x3D; {
        idToken: idToken,
        idTokenClaims: claims,
        idTokenClaimsJson: claimsJson,
        idTokenHeader: header,
        idTokenHeaderJson: headerJson,
        idTokenExpiresAt: expiresAtMSec
      };
      return result;
    });
  }

  /**
   * Returns the received claims about the user.
   */
  public getIdentityClaims(): object {
    const claims &#x3D; this._storage.getItem(&#x27;id_token_claims_obj&#x27;);
    if (!claims) {
      return null;
    }
    return JSON.parse(claims);
  }

  /**
   * Returns the granted scopes from the server.
   */
  public getGrantedScopes(): object {
    const scopes &#x3D; this._storage.getItem(&#x27;granted_scopes&#x27;);
    if (!scopes) {
      return null;
    }
    return JSON.parse(scopes);
  }

  /**
   * Returns the current id_token.
   */
  public getIdToken(): string {
    return this._storage.getItem(&#x27;id_token&#x27;);
  }

  private padBase64(base64data): string {
    while (base64data.length % 4 !&#x3D;&#x3D; 0) {
      base64data +&#x3D; &#x27;&#x3D;&#x27;;
    }
    return base64data;
  }

  /**
   * Returns the current access_token.
   */
  public getAccessToken(): string {
    return this._storage.getItem(&#x27;access_token&#x27;);
  }

  public getRefreshToken(): string {
    return this._storage.getItem(&#x27;refresh_token&#x27;);
  }

  /**
   * Returns the expiration date of the access_token
   * as milliseconds since 1970.
   */
  public getAccessTokenExpiration(): number {
    if (!this._storage.getItem(&#x27;expires_at&#x27;)) {
      return null;
    }
    return parseInt(this._storage.getItem(&#x27;expires_at&#x27;), 10);
  }

  private getAccessTokenStoredAt(): number {
    return parseInt(this._storage.getItem(&#x27;access_token_stored_at&#x27;), 10);
  }

  private getIdTokenStoredAt(): number {
    return parseInt(this._storage.getItem(&#x27;id_token_stored_at&#x27;), 10);
  }

  /**
   * Returns the expiration date of the id_token
   * as milliseconds since 1970.
   */
  public getIdTokenExpiration(): number {
    if (!this._storage.getItem(&#x27;id_token_expires_at&#x27;)) {
      return null;
    }

    return parseInt(this._storage.getItem(&#x27;id_token_expires_at&#x27;), 10);
  }

  /**
   * Checkes, whether there is a valid access_token.
   */
  public hasValidAccessToken(): boolean {
    if (this.getAccessToken()) {
      const expiresAt &#x3D; this._storage.getItem(&#x27;expires_at&#x27;);
      const now &#x3D; new Date();
      if (expiresAt &amp;&amp; parseInt(expiresAt, 10) &lt; now.getTime()) {
        return false;
      }

      return true;
    }

    return false;
  }

  /**
   * Checkes, whether there is a valid id_token.
   */
  public hasValidIdToken(): boolean {
    if (this.getIdToken()) {
      const expiresAt &#x3D; this._storage.getItem(&#x27;id_token_expires_at&#x27;);
      const now &#x3D; new Date();
      if (expiresAt &amp;&amp; parseInt(expiresAt, 10) &lt; now.getTime()) {
        return false;
      }

      return true;
    }

    return false;
  }

  /**
   * Returns the auth-header that can be used
   * to transmit the access_token to a service
   */
  public authorizationHeader(): string {
    return &#x27;Bearer &#x27; + this.getAccessToken();
  }

  /**
   * Removes all tokens and logs the user out.
   * If a logout url is configured, the user is
   * redirected to it.
   * @param noRedirectToLogoutUrl
   */
  public logOut(noRedirectToLogoutUrl &#x3D; false): void {
    const id_token &#x3D; this.getIdToken();
    this._storage.removeItem(&#x27;access_token&#x27;);
    this._storage.removeItem(&#x27;id_token&#x27;);
    this._storage.removeItem(&#x27;refresh_token&#x27;);
    this._storage.removeItem(&#x27;nonce&#x27;);
    this._storage.removeItem(&#x27;expires_at&#x27;);
    this._storage.removeItem(&#x27;id_token_claims_obj&#x27;);
    this._storage.removeItem(&#x27;id_token_expires_at&#x27;);
    this._storage.removeItem(&#x27;id_token_stored_at&#x27;);
    this._storage.removeItem(&#x27;access_token_stored_at&#x27;);

    this.silentRefreshSubject &#x3D; null;

    this.eventsSubject.next(new OAuthInfoEvent(&#x27;logout&#x27;));

    if (!this.logoutUrl) {
      return;
    }
    if (noRedirectToLogoutUrl) {
      return;
    }
    if (!id_token) {
      return;
    }

    let logoutUrl: string;

    if (!this.validateUrlForHttps(this.logoutUrl)) {
      throw new Error(
        &#x27;logoutUrl must use Http. Also check property requireHttps.&#x27;
      );
    }

    // For backward compatibility
    if (this.logoutUrl.indexOf(&#x27;{{&#x27;) &gt; -1) {
      logoutUrl &#x3D; this.logoutUrl
        .replace(/\{\{id_token\}\}/, id_token)
        .replace(/\{\{client_id\}\}/, this.clientId);
    } else {
      logoutUrl &#x3D;
        this.logoutUrl +
        (this.logoutUrl.indexOf(&#x27;?&#x27;) &gt; -1 ? &#x27;&amp;&#x27; : &#x27;?&#x27;) +
        &#x27;id_token_hint&#x3D;&#x27; +
        encodeURIComponent(id_token) +
        &#x27;&amp;post_logout_redirect_uri&#x3D;&#x27; +
        encodeURIComponent(this.postLogoutRedirectUri || this.redirectUri);
    }
    location.href &#x3D; logoutUrl;
  }

  /**
   * @ignore
   */
  public createAndSaveNonce(): Promise&lt;string&gt; {
    const that &#x3D; this;
    return this.createNonce().then(function(nonce: any) {
      that._storage.setItem(&#x27;nonce&#x27;, nonce);
      return nonce;
    });
  }

  protected createNonce(): Promise&lt;string&gt; {
    return new Promise((resolve, reject) &#x3D;&gt; {
      if (this.rngUrl) {
        throw new Error(
          &#x27;createNonce with rng-web-api has not been implemented so far&#x27;
        );
      } else {
        let text &#x3D; &#x27;&#x27;;
        const possible &#x3D;
          &#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&#x27;;

        for (let i &#x3D; 0; i &lt; 40; i++) {
          text +&#x3D; possible.charAt(Math.floor(Math.random() * possible.length));
        }

        resolve(text);
      }
    });
  }

  private checkAtHash(params: ValidationParams): boolean {
    if (!this.tokenValidationHandler) {
      console.warn(
        &#x27;No tokenValidationHandler configured. Cannot check at_hash.&#x27;
      );
      return true;
    }
    return this.tokenValidationHandler.validateAtHash(params);
  }

  private checkSignature(params: ValidationParams): Promise&lt;any&gt; {
    if (!this.tokenValidationHandler) {
      console.warn(
        &#x27;No tokenValidationHandler configured. Cannot check signature.&#x27;
      );
      return Promise.resolve(null);
    }
    return this.tokenValidationHandler.validateSignature(params);
  }
}
</code></pre>
    </div>

</div>









                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

        <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_URL = 'OAuthService.html';
        </script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
       <script src="../js/search/search_index.js"></script>


    </body>
</html>
